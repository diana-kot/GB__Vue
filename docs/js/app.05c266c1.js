(function(t){function e(e){for(var n,r,s=e[0],c=e[1],l=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"teal"}},[a("v-btn",{attrs:{plain:!0,dark:"",ripple:!1,to:"/costs"}},[t._v("Costs")]),a("v-btn",{attrs:{plain:"",dark:"",ripple:!1,to:"/about"}},[t._v("About")])],1),a("v-main",[a("router-view")],1)],1)},o=[],r={name:"App",data:function(){return{}}},s=r,c=a("2877"),l=a("6544"),u=a.n(l),d=a("7496"),m=a("40dc"),h=a("8336"),p=a("f6c4"),f=Object(c["a"])(s,i,o,!1,null,null,null),v=f.exports;u()(f,{VApp:d["a"],VAppBar:m["a"],VBtn:h["a"],VMain:p["a"]});a("c740"),a("a434"),a("d3b7");var g=a("2f62");n["a"].use(g["a"]);var y=new g["a"].Store({state:{paymentList:[],categoryList:[],paymentListIds:[]},mutations:{setPaymentListData:function(t,e){t.paymentList=e},addPaymentListData:function(t,e){t.paymentList.push(e)},setCategoryList:function(t,e){t.categoryList=e},addNewCategory:function(t,e){t.categoryList.push(e)},deleteData:function(t,e){var a=t.paymentList.findIndex((function(t){return t.id==e}));t.paymentList.splice(a,1)}},getters:{getPaymentList:function(t){return t.paymentList},getCategoryList:function(t){return t.categoryList},getFullPaymentValue:function(t){return t.paymentList.reduce((function(t,e){return t+e.value}),0)}},actions:{fetchData:function(t){var e=t.commit;return new Promise((function(t){setTimeout((function(){for(var e=[],a=1;a<20;a++)e.push({date:"20.12.2021",category:"Education",value:a,id:a});t(e)}),0)})).then((function(t){return e("setPaymentListData",t)}))},fetchCategoryList:function(t){var e=t.commit;return new Promise((function(t){setTimeout((function(){var e=["Sport","Food","Education","Transport","Internet","Entertainment"];t(e)}),500)})).then((function(t){e("setCategoryList",t)}))},upgradeData:function(t,e){var a=t.commit,n=this.state.paymentList.findIndex((function(t){return t.id==e.id}));this.state.paymentList[n].category=e.category,this.state.paymentList[n].value=e.value,this.state.paymentList[n].date=e.date,a("setPaymentListData",this.state.paymentList)}}}),b=a("8c4f"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",[a("div",{staticClass:"text-h5 text-sm-h3 pb-2"},[t._v("My Personal Cost")]),a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{color:"teal",dark:""}},n),[t._v(" ADD NEW COST"),a("v-icon",[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("add-payment-form",{on:{addNewPayment:t.addDataToPaymentList}})],1),a("payments-display",{attrs:{items:t.paymentList}})],1),a("v-col",[a("chart",{attrs:{items:t.paymentList,fullPaymentValue:t.fullPayment}})],1)],1)],1)},w=[],C=a("5530"),x=(a("99af"),a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,page:t.page,"hide-default-footer":""},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-row",[a("v-col",{attrs:{cols:9}},[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Edit")])])],1),a("v-col",{attrs:{cols:3}},[a("v-card-actions",[a("v-btn",{staticClass:"mt-2 ml-32",attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[a("v-icon",[t._v("mdi-close-thick")])],1)],1)],1)],1),a("v-row",[a("v-card-text",[a("add-payment-form",{attrs:{editedElem:t.editedItem},on:{closeAddPayment:t.close}})],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(n)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v(" mdi-delete ")])]}}],null,!0)}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount,value:t.itemsPerPage,"total-visible":7,"current-page-aria-label":"handlePageChange"},on:{input:t.handlePageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)}),P=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"text-left pa-8"},[a("v-container",[a("v-row",[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"DD/MM/YY","persistent-hint":"","prepend-icon":"mdi-calendar"},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},"v-text-field",i,!1),n))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-text-field",{attrs:{label:"Payment amount"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("v-select",{attrs:{items:t.getCategoryList,label:"Category"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),a("v-btn",{staticClass:"save_btn",on:{click:function(e){return t.onSave()}}},[t._v("SAVE "),a("v-icon",[t._v("mdi-plus")])],1)],1)},L=[],_=a("3835"),k=a("53ca"),V=(a("ac1f"),a("1276"),a("4d90"),{name:"AddPaymentForm",props:{editedElem:Object},data:function(t){return{date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateFormatted:t.formatDate(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),menu1:!1,isDisabled:!1,category:"",value:"",new_category:""}},computed:Object(C["a"])(Object(C["a"])({},Object(g["c"])(["getCategoryList"])),{},{computedDateFormatted:function(){return this.formatDate(this.date)}}),methods:Object(C["a"])(Object(C["a"])(Object(C["a"])({},Object(g["d"])({addCategory:"addNewCategory"})),Object(g["b"])(["fetchCategoryList"])),{},{addToCategoryList:function(){this.addCategory(this.new_category)},onSave:function(){if(this.editedElem){var t={id:this.editedElem.id,category:this.category,value:Number(this.value),date:this.dateFormatted};console.log("save_date",this.dateFormatted),this.$store.dispatch("upgradeData",t),this.$emit("closeAddPayment"),this.category="",this.value=""}else{var e={id:0,category:this.category,value:Number(this.value),date:this.dateFormatted||this.formatDate(Date.now())};""!==e.category&&""!==e.value&&this.$emit("addNewPayment",e)}this.data="",this.category="",this.value="",this.date=""},changeElem:function(){this.editedElem?(this.isDisabled=!1,this.category=this.editedElem.category,this.value=this.editedElem.value,this.date=this.formatToDate(this.editedElem.date),this.dateFormatted=this.editedElem.date,console.log(this.editedElem.date),console.log(this.formatToDate(this.editedElem.date))):(this.isDisabled=!1,this.category="",this.value="",this.date="")},formatDate:function(t){if(!t)return null;var e={};return console.log("formatDate"),console.log(Object(k["a"])(new Intl.DateTimeFormat("ru-Ru",e).format(new Date(t)))),new Intl.DateTimeFormat("ru-Ru",e).format(new Date(t))},formatToDate:function(t){if(!t)return null;var e=t.split("."),a=Object(_["a"])(e,3),n=a[0],i=a[1],o=a[2];return"".concat(o,"-").concat(i,"-").concat(n)},strToDate:function(t){if(!t)return null;console.log("strToDate");var e=t.split("."),a=Object(_["a"])(e,3),n=a[0],i=a[1],o=a[2];return new Date(o,i,n)},parseDate:function(t){if(!t)return null;console.log("parse_data");var e=t.split("."),a=Object(_["a"])(e,3),n=a[0],i=a[1],o=a[2];return"".concat(n.padStart(2,"0"),".").concat(i.padStart(2,"0"),".").concat(o)}}),mounted:function(){var t;null!==(t=this.getCategoryList)&&void 0!==t&&t.length||this.fetchCategoryList(),this.changeElem(),this.$route.params.category&&(this.category=this.$route.params.category),this.$route.query.value&&(this.value=this.$route.query.value)},watch:{editedElem:function(){this.changeElem()},date:function(){this.dateFormatted=this.formatDate(this.date)}}}),j=V,E=a("b0af"),$=a("a523"),I=a("2e4b"),F=a("132d"),T=a("e449"),S=a("0fd9"),A=a("b974"),M=a("8654"),B=Object(c["a"])(j,O,L,!1,null,"7fd2deeb",null),N=B.exports;u()(B,{VBtn:h["a"],VCard:E["a"],VContainer:$["a"],VDatePicker:I["a"],VIcon:F["a"],VMenu:T["a"],VRow:S["a"],VSelect:A["a"],VTextField:M["a"]});var q={components:{AddPaymentForm:N},name:"PaymentsDisplay",props:{items:{type:Array,default:function(){return[]}}},data:function(){return{headers:[{text:"#",align:"start",sortable:!1,value:"id"},{text:"Date",value:"date"},{text:"Category",value:"category"},{text:"Value",value:"value"},{text:"Actions",value:"actions",sortable:!1}],page:+this.$route.query.page,pageCount:0,itemsPerPage:10,itemsCurrent:[],dialog:!1,dialogDelete:!1,editedIndex:-1,editedItem:{},defaultItem:{id:0,date:"",category:"",value:0}}},created:function(){this.pageCount=this.items.length/this.itemsPerPage},methods:{editItem:function(t){this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=t.id,this.dialogDelete=!0},deleteItemConfirm:function(){this.$store.commit("deleteData",this.editedIndex),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){this.dialogDelete=!1},handlePageChange:function(t){this.itemsCurrent=this.items[t-1]||this.items[0],this.$router.push("".concat(this.$route.path,"?page=").concat(t))}}},R=q,Y=a("99d9"),z=a("62ad"),J=a("8fea"),K=a("169a"),W=a("891e"),G=a("2fa4"),H=a("71d9"),Q=Object(c["a"])(R,x,P,!1,null,"41c0e409",null),U=Q.exports;u()(Q,{VBtn:h["a"],VCard:E["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:z["a"],VDataTable:J["a"],VDialog:K["a"],VIcon:F["a"],VPagination:W["a"],VRow:S["a"],VSpacer:G["a"],VToolbar:H["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{style:{width:"500px"}},[a("canvas",{ref:"canvas"})])},Z=[],tt=a("2909"),et=(a("d81d"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("b64b"),a("07ac"),a("d549")),at={name:"Chart",props:{fullPaymentValue:{type:Number},items:{type:Array,default:function(){return[]}}},data:function(){return{newChart:Object,data:{labels:[],datasets:[{label:"Dataset 1",data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"]}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"My Payments"}}}}},methods:{makeChart:function(){var t=this.$refs.canvas;this.newChart=new et["a"](t,{type:"doughnut",data:this.data,options:this.options})},makeData:function(){var t=this,e=this.items.map((function(t){return t.category})),a=Object(tt["a"])(new Set(e)),n={};a.forEach((function(e){for(var a=0,i=0;i<t.items.length;i++)e==t.items[i].category&&(a+=t.items[i].value);n[e]=a})),this.data.labels=Object.keys(n),this.data.datasets[0].data=Object.values(n)}},mounted:function(){this.makeData(),this.makeChart()},watch:{fullPaymentValue:function(){this.newChart.destroy(),this.makeData(),this.makeChart()}}},nt=at,it=(a("e3e9"),Object(c["a"])(nt,X,Z,!1,null,null,null)),ot=it.exports;u()(it,{VContainer:$["a"]});var rt={name:"Costs",components:{PaymentsDisplay:U,Chart:ot,AddPaymentForm:N},data:function(){return{dialog:!1}},computed:Object(C["a"])(Object(C["a"])({},Object(g["c"])({paymentList:"getPaymentList",category:"getCategoryList",fullPayment:"getFullPaymentValue"})),{},{getFPV:function(){return this.$store.getters.getFitemsValue}}),methods:Object(C["a"])(Object(C["a"])({},Object(g["d"])({myMutationName:"setPaymentListData",addData:"addPaymentListData"})),{},{addDataToPaymentList:function(t){t.id=this.paymentList[this.paymentList.length-1].id+1,this.addData(t),this.dialog=!1},renderPaymentList:function(t){this.page=t},getCurrentDate:function(){var t=new Date,e=t.getDate(),a=t.getMonth(),n=t.getFullYear();return"".concat(e,".").concat(a,".").concat(n)}}),created:function(){this.$store.dispatch("fetchData")},mounted:function(){"payment"===this.$route.params.section&&(this.show=!0,this.$route.params.category&&this.$route.query.value&&this.addData({id:this.paymentList.length+1,category:this.$route.params.category,value:Number(this.$route.query.value),date:this.getCurrentDate()}))}},st=rt,ct=Object(c["a"])(st,D,w,!1,null,null,null),lt=ct.exports;u()(ct,{VBtn:h["a"],VCol:z["a"],VContainer:$["a"],VDialog:K["a"],VIcon:F["a"],VRow:S["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("about "),a("button",{on:{click:t.openModal}},[t._v("Open")])])},dt=[],mt={name:"About",methods:{openModal:function(){this.$modal.show("AuthForm",{content:"auth",header:"Auth Form"})}}},ht=mt,pt=Object(c["a"])(ht,ut,dt,!1,null,null,null),ft=pt.exports;n["a"].use(b["a"]);var vt=[{path:"/",name:"Costs",component:lt},{path:"/costs",name:"CostsMain",component:lt},{path:"/about",name:"About",component:ft},{path:"/add/:section/:category",component:lt},{path:"/add/:section",component:lt}],gt=new b["a"]({mode:"history",base:"/",routes:vt}),yt=gt,bt={install:function(t){this.installed||(this.installed=!0,t.prototype.$modal={EventBus:new t,show:function(t,e){this.EventBus.$emit("show",{name:t,settings:e})},hide:function(){this.EventBus.$emit("hide")}})}},Dt={install:function(t){this.installed||(this.installed=!0,this.caller=null,t.prototype.$context={EventBus:new t,show:function(t){var e=t.event,a=t.items,n=e.target;n!==this.caller?(this.caller=n,this.EventBus.$emit("show",{items:a,caller:n})):(this.close(),this.caller=null)},showEditForm:function(t,e){this.EventBus.$emit("show",{name:t,settings:e})},close:function(){this.EventBus.$emit("close")}})}},wt=a("f309");n["a"].use(wt["a"]);var Ct=new wt["a"]({});n["a"].config.productionTip=!1,n["a"].use(bt),n["a"].use(Dt),new n["a"]({render:function(t){return t(v)},store:y,vuetify:Ct,router:yt}).$mount("#app")},a0dc:function(t,e,a){},e3e9:function(t,e,a){"use strict";a("a0dc")}});
//# sourceMappingURL=app.05c266c1.js.map